<Application x:Class="DiskPeek.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:DiskPeek.Converters"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <ResourceDictionary>

            <!-- ═══════════════════════════ COLORS ═══════════════════════════ -->
            <Color x:Key="ColBg">#111111</Color>
            <Color x:Key="ColSurface">#1C1C1E</Color>
            <Color x:Key="ColCard">#2C2C2E</Color>
            <Color x:Key="ColCardHover">#3A3A3C</Color>
            <Color x:Key="ColAccent">#7C6FF7</Color>
            <Color x:Key="ColAccentDark">#5E52D7</Color>
            <Color x:Key="ColTextPrimary">#FFFFFF</Color>
            <Color x:Key="ColTextSecondary">#9E9E9E</Color>
            <Color x:Key="ColBorder">#3A3A3C</Color>
            <Color x:Key="ColSelection">#3A3A3C</Color>
            <Color x:Key="ColDanger">#FF453A</Color>

            <!-- ══════════════════════════ BRUSHES ════════════════════════════ -->
            <SolidColorBrush x:Key="BackgroundBrush"    Color="{StaticResource ColBg}"/>
            <SolidColorBrush x:Key="SurfaceBrush"       Color="{StaticResource ColSurface}"/>
            <SolidColorBrush x:Key="CardBrush"          Color="{StaticResource ColCard}"/>
            <SolidColorBrush x:Key="CardHoverBrush"     Color="{StaticResource ColCardHover}"/>
            <SolidColorBrush x:Key="AccentBrush"        Color="{StaticResource ColAccent}"/>
            <SolidColorBrush x:Key="AccentDarkBrush"    Color="{StaticResource ColAccentDark}"/>
            <SolidColorBrush x:Key="TextPrimaryBrush"   Color="{StaticResource ColTextPrimary}"/>
            <SolidColorBrush x:Key="TextSecondaryBrush" Color="{StaticResource ColTextSecondary}"/>
            <SolidColorBrush x:Key="BorderBrush"        Color="{StaticResource ColBorder}"/>
            <SolidColorBrush x:Key="SelectionBrush"     Color="{StaticResource ColSelection}"/>
            <SolidColorBrush x:Key="DangerBrush"        Color="{StaticResource ColDanger}"/>

            <!-- ═════════════════════════ CONVERTERS ═════════════════════════ -->
            <conv:FileSizeConverter     x:Key="FileSizeConverter"/>
            <conv:TypeIconConverter     x:Key="TypeIconConverter"/>
            <conv:TypeColorConverter    x:Key="TypeColorConverter"/>
            <conv:BoolToVisibilityConverter x:Key="BoolToVisibility"/>
            <conv:PercentToWidthConverter   x:Key="PercentToWidth"/>
            <conv:DateTimeConverter     x:Key="DateTimeConverter"/>
            <conv:DriveInfoConverter    x:Key="DriveInfoConverter"/>

            <!-- ═══════════════════════ SCROLLBAR ════════════════════════════ -->
            <Style TargetType="ScrollBar">
                <Setter Property="Background" Value="{StaticResource SurfaceBrush}"/>
                <Setter Property="Width" Value="6"/>
                <Setter Property="Opacity" Value="0.5"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ScrollBar">
                            <Grid Background="{TemplateBinding Background}">
                                <Track x:Name="PART_Track" IsDirectionReversed="True">
                                    <Track.Thumb>
                                        <Thumb>
                                            <Thumb.Template>
                                                <ControlTemplate TargetType="Thumb">
                                                    <Border CornerRadius="3"
                                                            Background="{StaticResource CardHoverBrush}"
                                                            Margin="1"/>
                                                </ControlTemplate>
                                            </Thumb.Template>
                                        </Thumb>
                                    </Track.Thumb>
                                </Track>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═══════════════════════ BUTTON (base) ════════════════════════ -->
            <Style x:Key="ModernButton" TargetType="Button">
                <Setter Property="Background"       Value="{StaticResource CardBrush}"/>
                <Setter Property="Foreground"       Value="{StaticResource TextPrimaryBrush}"/>
                <Setter Property="BorderBrush"      Value="{StaticResource BorderBrush}"/>
                <Setter Property="BorderThickness"  Value="1"/>
                <Setter Property="Padding"          Value="14,7"/>
                <Setter Property="FontSize"         Value="13"/>
                <Setter Property="FontFamily"       Value="Segoe UI"/>
                <Setter Property="Cursor"           Value="Hand"/>
                <Setter Property="SnapsToDevicePixels" Value="True"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="8"
                                    Padding="{TemplateBinding Padding}"
                                    Opacity="1">
                                <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Bd" Property="Opacity" Value="0.85"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="Bd" Property="Opacity" Value="0.7"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="Bd" Property="Opacity" Value="0.4"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="AccentButton" BasedOn="{StaticResource ModernButton}" TargetType="Button">
                <Setter Property="Background"   Value="{StaticResource AccentBrush}"/>
                <Setter Property="BorderBrush"  Value="{StaticResource AccentBrush}"/>
                <Setter Property="Foreground"   Value="White"/>
                <Setter Property="FontWeight"   Value="SemiBold"/>
            </Style>

            <Style x:Key="WarnButton" BasedOn="{StaticResource ModernButton}" TargetType="Button">
                <Setter Property="Foreground"  Value="#FFB86C"/>
                <Setter Property="BorderBrush" Value="#553020"/>
            </Style>

            <Style x:Key="GhostButton" BasedOn="{StaticResource ModernButton}" TargetType="Button">
                <Setter Property="Background"       Value="Transparent"/>
                <Setter Property="BorderThickness"  Value="1"/>
                <Setter Property="BorderBrush"      Value="{StaticResource BorderBrush}"/>
                <Setter Property="Foreground"       Value="{StaticResource TextSecondaryBrush}"/>
                <Setter Property="Padding"          Value="8,6"/>
            </Style>

            <!-- Icon-only button for title-bar controls (─ □ ✕, ⚙) -->
            <Style x:Key="IconButton" TargetType="Button">
                <Setter Property="Background"       Value="Transparent"/>
                <Setter Property="Foreground"       Value="{StaticResource TextSecondaryBrush}"/>
                <Setter Property="BorderThickness"  Value="0"/>
                <Setter Property="Padding"          Value="6"/>
                <Setter Property="FontSize"         Value="14"/>
                <Setter Property="FontFamily"       Value="Segoe UI"/>
                <Setter Property="Cursor"           Value="Hand"/>
                <Setter Property="SnapsToDevicePixels" Value="True"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    Padding="{TemplateBinding Padding}"
                                    CornerRadius="6">
                                <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource CardBrush}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="Bd" Property="Opacity" Value="0.7"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ══════════════════════ TOGGLE BUTTON (view tabs) ═════════════ -->
            <Style x:Key="ViewTab" TargetType="ToggleButton">
                <Setter Property="Background"      Value="Transparent"/>
                <Setter Property="Foreground"      Value="{StaticResource TextSecondaryBrush}"/>
                <Setter Property="BorderThickness" Value="0,0,0,2"/>
                <Setter Property="BorderBrush"     Value="Transparent"/>
                <Setter Property="Padding"         Value="16,8"/>
                <Setter Property="FontSize"        Value="13"/>
                <Setter Property="FontFamily"      Value="Segoe UI"/>
                <Setter Property="Cursor"          Value="Hand"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ToggleButton">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter Property="Foreground"                    Value="{StaticResource AccentBrush}"/>
                                    <Setter TargetName="Bd" Property="BorderBrush"   Value="{StaticResource AccentBrush}"/>
                                    <Setter TargetName="Bd" Property="Background"    Value="{StaticResource SurfaceBrush}"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ═════════════════════════ COMBOBOX ═══════════════════════════ -->
            <ControlTemplate x:Key="ComboBoxToggleTpl" TargetType="ToggleButton">
                <Border x:Name="Bd"
                        Background="{StaticResource CardBrush}"
                        BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="1" CornerRadius="8">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="28"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0"/>
                        <Path Grid.Column="1"
                              Data="M 0 0 L 5 5 L 10 0"
                              Stroke="{StaticResource TextSecondaryBrush}"
                              StrokeThickness="1.5"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"/>
                    </Grid>
                </Border>
                <ControlTemplate.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                    </Trigger>
                    <Trigger Property="IsChecked" Value="True">
                        <Setter TargetName="Bd" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>

            <Style x:Key="ModernComboBox" TargetType="ComboBox">
                <Setter Property="Foreground"      Value="{StaticResource TextPrimaryBrush}"/>
                <Setter Property="Background"      Value="{StaticResource CardBrush}"/>
                <Setter Property="BorderBrush"     Value="{StaticResource BorderBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="Padding"         Value="10,7"/>
                <Setter Property="FontSize"        Value="13"/>
                <Setter Property="FontFamily"      Value="Segoe UI"/>
                <Setter Property="MinWidth"        Value="220"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ComboBox">
                            <Grid>
                                <ToggleButton x:Name="ToggleButton"
                                              Template="{StaticResource ComboBoxToggleTpl}"
                                              Focusable="False" ClickMode="Press"
                                              IsChecked="{Binding IsDropDownOpen, Mode=TwoWay,
                                                          RelativeSource={RelativeSource TemplatedParent}}"/>
                                <ContentPresenter x:Name="ContentSite"
                                                  IsHitTestVisible="False"
                                                  Content="{TemplateBinding SelectionBoxItem}"
                                                  ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                  Margin="{TemplateBinding Padding}"
                                                  VerticalAlignment="Center"/>
                                <Popup x:Name="Popup"
                                       Placement="Bottom"
                                       IsOpen="{TemplateBinding IsDropDownOpen}"
                                       AllowsTransparency="True"
                                       Focusable="False"
                                       PopupAnimation="Slide">
                                    <Border Background="{StaticResource CardBrush}"
                                            BorderBrush="{StaticResource AccentBrush}"
                                            BorderThickness="1"
                                            MinWidth="{TemplateBinding ActualWidth}"
                                            MaxHeight="320"
                                            CornerRadius="0,0,8,8">
                                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                                            <StackPanel IsItemsHost="True"
                                                        KeyboardNavigation.DirectionalNavigation="Contained"/>
                                        </ScrollViewer>
                                    </Border>
                                </Popup>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="ComboBoxItem">
                <Setter Property="Foreground"      Value="{StaticResource TextPrimaryBrush}"/>
                <Setter Property="Background"      Value="Transparent"/>
                <Setter Property="Padding"         Value="10,7"/>
                <Setter Property="FontSize"        Value="13"/>
                <Setter Property="FontFamily"      Value="Segoe UI"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ComboBoxItem">
                            <Border x:Name="Bd"
                                    Background="{TemplateBinding Background}"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource CardHoverBrush}"/>
                                </Trigger>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="{StaticResource AccentBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ════════════════════════ DATAGRID ════════════════════════════ -->
            <Style TargetType="DataGrid">
                <Setter Property="Background"              Value="{StaticResource BackgroundBrush}"/>
                <Setter Property="Foreground"              Value="{StaticResource TextPrimaryBrush}"/>
                <Setter Property="BorderBrush"             Value="{StaticResource BorderBrush}"/>
                <Setter Property="BorderThickness"         Value="0"/>
                <Setter Property="GridLinesVisibility"     Value="Horizontal"/>
                <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource CardBrush}"/>
                <Setter Property="VerticalGridLinesBrush"   Value="Transparent"/>
                <Setter Property="RowBackground"           Value="Transparent"/>
                <Setter Property="AlternatingRowBackground" Value="#09FFFFFF"/>
                <Setter Property="SelectionUnit"           Value="FullRow"/>
                <Setter Property="SelectionMode"           Value="Single"/>
                <Setter Property="CanUserAddRows"          Value="False"/>
                <Setter Property="CanUserDeleteRows"       Value="False"/>
                <Setter Property="CanUserResizeRows"       Value="False"/>
                <Setter Property="AutoGenerateColumns"     Value="False"/>
                <Setter Property="HeadersVisibility"       Value="Column"/>
                <Setter Property="FontSize"                Value="13"/>
                <Setter Property="FontFamily"              Value="Segoe UI"/>
                <Setter Property="RowHeight"               Value="34"/>
                <Setter Property="ColumnHeaderHeight"      Value="36"/>
            </Style>

            <Style TargetType="DataGridColumnHeader">
                <Setter Property="Background"              Value="{StaticResource SurfaceBrush}"/>
                <Setter Property="Foreground"              Value="{StaticResource TextSecondaryBrush}"/>
                <Setter Property="BorderBrush"             Value="{StaticResource BorderBrush}"/>
                <Setter Property="BorderThickness"         Value="0,0,0,1"/>
                <Setter Property="Padding"                 Value="10,0"/>
                <Setter Property="FontSize"                Value="11"/>
                <Setter Property="FontWeight"              Value="SemiBold"/>
                <Setter Property="HorizontalContentAlignment" Value="Left"/>
                <Setter Property="Cursor"                  Value="Hand"/>
            </Style>

            <Style TargetType="DataGridRow">
                <Setter Property="Background"     Value="Transparent"/>
                <Setter Property="Foreground"     Value="{StaticResource TextPrimaryBrush}"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Cursor"         Value="Hand"/>
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="{StaticResource CardBrush}"/>
                    </Trigger>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="{StaticResource SelectionBrush}"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <Style TargetType="DataGridCell">
                <Setter Property="Background"          Value="Transparent"/>
                <Setter Property="BorderThickness"     Value="0"/>
                <Setter Property="Padding"             Value="0"/>
                <Setter Property="VerticalContentAlignment" Value="Center"/>
                <Setter Property="FocusVisualStyle"    Value="{x:Null}"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="DataGridCell">
                            <Border Background="{TemplateBinding Background}"
                                    BorderThickness="0"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

            <!-- ════════════════ BREADCRUMB BUTTON ═══════════════════════════ -->
            <Style x:Key="BreadcrumbBtn" TargetType="Button">
                <Setter Property="Background"      Value="Transparent"/>
                <Setter Property="Foreground"      Value="{StaticResource TextSecondaryBrush}"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Padding"         Value="3,1"/>
                <Setter Property="Cursor"          Value="Hand"/>
                <Setter Property="FontSize"        Value="13"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <TextBlock x:Name="Txt"
                                       Text="{TemplateBinding Content}"
                                       Foreground="{TemplateBinding Foreground}"
                                       Padding="{TemplateBinding Padding}"/>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Txt" Property="Foreground"      Value="{StaticResource AccentBrush}"/>
                                    <Setter TargetName="Txt" Property="TextDecorations" Value="Underline"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

        </ResourceDictionary>
    </Application.Resources>
</Application>
